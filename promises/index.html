<!DOCTYPE html>
<html>
<head>
	<title>Promises</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<link rel="stylesheet" href="styles/screen.css">
	<style type="text/css">

	</style>	
</head>
<body class="list">
	<header class="caption">
		<h1>Promises</h1>
		<p>Vladimir Dashukevich</p>
	</header>
	<section class="slide cover" id="face"><div>
		<h2>Борьба с асинхронностью</h2>
		<p>Vladimir Dashukevich</p>
		<img src="pictures/speech1.jpg" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>...и я программист!</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/4.jpg" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Цель</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.jpeg" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Асинхронность</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/2.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/9.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Cамое большое расточительство?</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/3.gif" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Что-то напоминает?</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/4.gif" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/5.gif" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>I/O - медленно</h2>
	</section>
	<section class="slide shout"><div>
		<h2>Способы</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/6.gif" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/7.gif" alt="">
	</section>
	<section class="slide cons">
		<div>
			<h2>Плюсы</h2>
			<ol>
				<li class="next">Простота</li>
			</ol>
			<h2>Недостатки</h2>
			<ol>
				<li class="next">Медленность</li>
				<li class="next">Блокируемость</li>
			</ol>
		</div>
	</section>
	<section class="slide shout"><div>
		<h2>Новый процесс</h2>
	</section>
	<section class="slide cons">
		<div>
			<h2>Плюсы</h2>
			<ol>
				<li class="next">Простота</li>
				<li class="next">Неблокируемость</li>
				<li class="next">Быстрее первого решения</li>
			</ol>
			<h2>Недостатки</h2>
			<ol>
				<li class="next">Медленность</li>
			</ol>
		</div>
	</section>
	<section class="slide shout"><div>
		<h2>Потоки</h2>
	</section>
	<section class="slide cons">
		<div>
			<h2>Плюсы</h2>
			<ol>
				<li class="next">Простота)))</li>
				<li class="next">Неблокируемость</li>
			</ol>
			<h2>Недостатки</h2>
			<ol>
				<li class="next">Много ресурсов</li>
			</ol>
		</div>
	</section>
	<section class="slide shout"><div>
		<h2>Eventloop</h2>
	</section>
	<section class="slide shout"><div>
		<h2>Событийный цикл</h2>
	</section>
	<section class="slide shout"><div>
		<h2>Один поток = один стэк = одна функция</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/9.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.svg" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Heap (Куча)</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.jpg" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Stack</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/2.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Queue</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/1.svg" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/3.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/4.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/5.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/6.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/7.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/8.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Пример №2</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/3.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/4.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/5.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Неожиданный клик</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/8.gif" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/10.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/11.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/12.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/13.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/14.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>setTimeout(f, 1)</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/15.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/16.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/17.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/18.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/19.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Мудрость №1</h2>
	</section>
	<section class="slide shout"><div>
		<h2>Короткие функции</h2>
	</section>
	<section class="slide shout"><div>
		<h2>Мудрость №2</h2>
	</section>
	<section class="slide shout"><div>
		<h2>setTimeout(f, 1)</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/10.gif" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/12.gif" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/13.gif" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/20.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Promise</h2>
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/21.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h3>Promise - объект, определяющий текущее состояние некой операции</h3>
	</section>
	<section class="slide cons">
		<div>
			<h2>loginPromise</h2>
			<ol>
				<li class="next">loginPromise.state
					<ol> 
						<li class="next">pending</li>
						<li class="next">done</li>
						<li class="next">failed</li>
					</ol>
				</li>
				<li class="next">loginPromise.done(f1)</li>
				<li class="next">loginPromise.fail(f2)</li>
				<li class="next">loginPromise.then(f1, f2)</li>
			</ol>
		</div>
	</section>
	<section class="slide"><div>
		<div>
			<pre>
				<code>loginPromise.done(f1) === loginPromise</code>
				<code>loginPromise.then(f1, f2) !== loginPromise</code>
			</pre>
		</div>
	</section>
	<section class="slide cons">
		<div>
			<h2>Deferred</h2>
			<ol>
				<li class="next">reject(error)</li>
				<li class="next">resolve(result)</li>
				<li class="next">promise</li>
			</ol>
		</div>
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>new Promise(function(resolve, reject){</code>
				<code>	//resolve(results)</code>	
				<code>	//reject(error)</code>	
				<code>});</code>
			</pre>
		</div>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/22.png" alt="">
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>(new Promise())</code>
				<code>	.then(loadImages)</code>
				<code>	.then(loadSounds)</code>
				<code>	.then(loadData)</code>
				<code>	.then(startGame)</code>
			</pre>
		</div>
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>all([loadImages(), loadSounds(), loadData()])</code>
				<code>	.then(startGame)</code>
			</pre>
		</div>
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>race([loadImages(), loadSounds(), loadData()])</code>
				<code>	.then(startGame)</code>
			</pre>
		</div>
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>(new Promise())</code>
				<code>	.then(loadImages)</code>
				<code>	.then(renderImages)</code>
				<code>	.then(all([loadSound1(), loadSound2(), loadSound3()]))</code>
				<code>	.then(loadData)</code>
				<code>	.then(startGame)</code>
			</pre>
		</div>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/41.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Мудрость №3</h2>
	</section>
	<section class="slide shout"><div>
		<h2>Всегда возвращай promise</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/23.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/24.png" alt="">
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>(new Promise())</code>
				<code>	.then(getTrips, errorCallback)</code>
				<code>	.then(getCountries, errorCallback)</code>
				<code>	.then(getHotels, errorCallback)</code>
				<code>	.then(getRooms, errorCallback)</code>
			</pre>
		</div>
	</section>
	<section class="slide shout"><div>
		<h2>Cache</h2>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/25.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/14.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/26.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/27.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/28.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/29.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/30.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/31.png" alt="">
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>getHotels()</code>
				<code>	.then(doSmth, errorCallback)</code>
			</pre>
		</div>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/11.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/15.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/16.gif" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/32.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/33.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/34.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/35.png" alt="">
	</section>
	<section class="slide cover h"><div>
		<img src="pictures/36.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/11.gif" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Где взять promise?</h2>
	</section>
	<section class="slide cons">
		<div>
			<h2>Библиотеки</h2>
			<ol>
				<li class="next">Q.js</li>
				<li class="next">when.js</li>
				<li class="next">RSVP.js</li>
				<li class="next">Deferred(jQuery, Dojo, WinJS)</li>
			</ol>
		</div>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/37.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Back to the future</h2>
	</section>
	<section class="slide shout"><div>
		<h2>ES6 и генераторы</h2>
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>var gen = function* count(){</code>
				<code>	for (var x = 0; true; x++) {</code>
				<code>		yield x</code>
				<code>	}</code>
				<code>}</code>
			</pre>
		</div>
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>var a = gen()</code>
				<code>a.next(); // => 0</code>
				<code>a.next(); // => 1</code>
				<code>a.next(); // => 2</code>
			</pre>
		</div>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/38.png" alt="">
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/39.png" alt="">
	</section>
	<section class="slide cons">
		<div>
			<pre>
				<code>function* showFeed(){</code>
				<code><mark>	var countries = yield getCountries();</mark></code>
				<code>	renderCountries(countries);</code>
				<code><mark>	var hotels = yield getHotels();</mark></code>
				<code>	renderHotels(hotels);</code>
				<code><mark>	var rooms = yield getRooms();</mark></code>
				<code>	renderRooms(rooms);</code>
				<code>}</code>
			</pre>
		</div>
	</section>
	<section class="slide cover w"><div>
		<img src="pictures/40.png" alt="">
	</section>
	<section class="slide shout"><div>
		<h2>Вопросы?</h2>
	</section>
</body>
<script src="js/shower.min.js"></script>
</html>
